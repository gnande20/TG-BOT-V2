const fs = require("fs");

const nix = {
  name: "file",
  version: "1.0.0",
  aliases: ["files"],
  description: "Envoyer un fichier du bot",
  author: "Kyo Soma",
  prefix: true,
  category: "OWNER",
  type: "owner",
  cooldown: 5,
  guide: "file <nom_du_fichier>"
};

async function onStart({ args, api, event, message }) {
  // ğŸ” UID autorisÃ©s
  const permission = [
    "8286999004",
    ""
  ];

  if (!permission.includes(event.senderID)) {
    return message.reply(
      "ğŸ‘ï¸â€ğŸ—¨ï¸ ACCÃˆS REFUSÃ‰\nSeul Kyo Soma est autorisÃ©."
    );
  }

  const fileName = args[0];
  if (!fileName) {
    return message.reply("âŒ Donne le nom du fichier.\nEx: file ai");
  }

  const filePath = __dirname + `/${fileName}.js`;

  if (!fs.existsSync(filePath)) {
    return message.reply(`âŒ Fichier introuvable : ${fileName}.js`);
  }

  const fileContent = fs.readFileSync(filePath, "utf8");

  return message.reply(
`â•­â”€â”€â”€ã€” ğŸ“‚ ğ—ğ—¬ğ—¢ ğ—¦ğ—¢ğ— ğ—” â€¢ ğ—™ğ—œğ—Ÿğ—˜ ã€•â”€â”€â”€â•®
â”‚
â”‚ ğŸ“„ Fichier : ${fileName}.js
â”‚
â”‚ ${fileContent}
â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯`
  );
}

module.exports = { nix, onStart };
